<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo de Associa√ß√£o - Play Joy</title>
  <style>
    :root {
      --bg: #fdfdc9;
      --ink: #0f0e0e;
      --muted: #0b223a;
      --brand: #0b223a;
      --accent: #bed9f4;
      --card: #ffffff;
      --shadow: 0 8px 24px rgba(0,0,0,.08);
      --radius-xl: 24px;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg);
      color: var(--ink);
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      color: var(--brand);
      margin-bottom: 20px;
      font-size: 2rem;
      text-align: center;
    }

    .game-container {
      background: var(--card);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow);
      padding: 20px;
      max-width: 1000px;
      width: 100%;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 30px;
      margin-bottom: 15px;
    }

    .top-bar button {
      padding: 6px 12px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-weight: bold;
      background: var(--accent);
      box-shadow: var(--shadow);
    }

    .lives span { font-size: 1.5rem; color: red; }

    .columns {
      display: flex;
      justify-content: space-between;
      gap: 0px;
      flex: 1;
    }

    .column { flex: 1; display: flex; flex-direction: column; gap: 15px; align-items: center; }

    .column-en .word {
      background: var(--accent);
      border-radius: 20px;
      padding: 40px 15px;
      text-align: center;
      font-weight: bold;
      cursor: pointer;
      transition: transform .2s ease, background .3s ease;
      font-size: 1.6rem;
      box-shadow: 0 10px 10px rgba(0,0,0,0.08);
      width: 150px;
    }
    .column-en .word:hover { transform: scale(1.05); }
    .column-en .selected { background: #abd1c6; }
    .column-en .correct { background: #a8e6cf !important; border: 3px solid #3fb67c; }
    .column-en .wrong { background: #ff8b8b !important; color: #fff; animation: shake .3s ease; }

    .column-pt .word-pt img { border-radius: 12px; transition: transform .2s ease; }
    .column-pt .word-pt:hover img { transform: scale(1.1); }
    .correct-pt img { border: 4px solid #3fb67c; }
    .wrong-pt img { border: 4px solid #ff4d4d; }

    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }

    /* Overlay */
    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .overlay-content {
      background: white;
      padding: 30px;
      border-radius: 20px;
      text-align: center;
      max-width: 400px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }
    .overlay-content h2 { margin-bottom: 20px; }
    .overlay-content button {
      margin-top: 15px;
      padding: 10px 18px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      background: var(--accent);
      box-shadow: var(--shadow);
    }
  </style>
</head>
<body>

  <h1>Ligue as palavras com as imagens corretas!</h1>

  <div class="game-container">
  <div class="top-bar">
      <button onclick="window.location.href='../play_joy.html'">Voltar</button>
      <button onclick="toggleSound()" id="soundBtn">Som</button>
      <div class="lives" id="lives"></div>
    </div>

    <div class="columns">
      <div class="column column-en" id="col-en"></div>
      <div class="column column-pt" id="col-pt"></div>
    </div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay">
    <div class="overlay-content">
      <h2 id="overlay-text"></h2>
      <button id="overlay-btn"></button>
    </div>
  </div>

  <script>
    let selectedEn = null;
    let soundOn = true;
    let lives = 3;
    let faseAtual = 1;

    const fases = {
      1: {
        en: [
           { palavra: "Bicycle", par: "Bicicleta" },
          { palavra: "Cat", par: "gato" },
          { palavra: "Cherry", par: "ma√ß√£" },
          { palavra: "Watermelon", par: "cachorro" },
          { palavra: "Book", par: "livro" },
         
        ],
        pt: [
          { par: "livro", img: "./Imagens JG4/livro.jpg", w: 90 },
          { par: "ma√ß√£", img: "./Imagens JG4/cereja.jpg", w: 150 },
          { par: "cachorro", img: "./Imagens JG4/melancia.jpg", w: 120 },
          { par: "gato", img: "./Imagens JG4/gato.jpg", w: 150 },
          { par: "Bicicleta", img: "./Imagens JG4/bicicleta.jpg", w: 210 }
        ]
      },
      2: {
        en: [
          { palavra: "Bear", par: "peixe"},
          { palavra: "Pig", par: "carro" },
          { palavra: "Monkey", par: "casa" },
          { palavra: "Tiger", par: "sol" },
          { palavra: "Cow", par: "√°rvore" },
          
        ],
        pt: [
          { par: "casa", img: "./Imagens JG4/macaco.jpg", w: 120 },
          { par: "carro", img: "./Imagens JG4/porco.jpg", w: 120 },
          { par: "sol", img: "./Imagens JG4/tigre.jpg", w: 120 },
          { par: "√°rvore", img: "./Imagens JG4/vaca.jpg", w: 120 },
          { par: "peixe", img: "./Imagens JG4/urso.jpg", w: 120 },
        ]
      }
    };

    function updateLives() {
      const livesDiv = document.getElementById("lives");
      livesDiv.innerHTML = "";
      for(let i=0; i<lives; i++) livesDiv.innerHTML += "<span>‚ù§Ô∏è</span>";
      for(let i=lives; i<3; i++) livesDiv.innerHTML += "<span>ü§ç</span>";
    }

    function loseLife() {
      lives--;
      updateLives();
      if(lives <= 0){
        showOverlay("Voc√™ perdeu todas as vidas! Tente novamente.", false);
        lives = 3;
        updateLives();
      }
    }

    function checkWin(){
      const allCorrect = [...document.querySelectorAll("#col-en .word")]
        .every(w => w.classList.contains("correct"));
      if(allCorrect){
        showOverlay("Parab√©ns! Voc√™ acertou tudo!", true);
      }
    }

    function showOverlay(text, win=false) {
      const overlay = document.getElementById("overlay");
      const overlayText = document.getElementById("overlay-text");
      const overlayBtn = document.getElementById("overlay-btn");

      overlayText.textContent = text;
      if(win){
        overlayBtn.textContent = "Pr√≥xima Fase";
        overlayBtn.onclick = () => {
          faseAtual++;
          if(fases[faseAtual]){
            overlay.style.display = "none";
            carregarFase(faseAtual);
          } else {
            overlayText.textContent = "Voc√™ terminou todas as fases!";
            overlayBtn.textContent = "Jogar Novamente";
            overlayBtn.onclick = () => { location.reload(); };
          }
        };
      } else {
        overlayBtn.textContent = "Tentar Novamente";
        overlayBtn.onclick = () => { location.reload(); };
      }

      overlay.style.display = "flex";
    }

    function carregarFase(num) {
      const colEn = document.getElementById("col-en");
      const colPt = document.getElementById("col-pt");

      colEn.innerHTML = "";
      colPt.innerHTML = "";

      fases[num].en.forEach(item => {
        const div = document.createElement("div");
        div.className = "word";
        div.dataset.pair = item.par;
        div.textContent = item.palavra;
        div.addEventListener("click", () => selectEn(div));
        colEn.appendChild(div);
        colEn.appendChild(document.createElement("br"));
      });

      fases[num].pt.forEach(item => {
        const div = document.createElement("div");
        div.className = "word-pt";
        div.dataset.pair = item.par;
        div.innerHTML = `<img src="${item.img}" width="${item.w}">`;
        div.addEventListener("click", () => selectPt(div));
        colPt.appendChild(div);
      });

      selectedEn = null;
      updateLives();
    }

    function selectEn(word) {
      if(word.classList.contains("correct")) return;
      document.querySelectorAll("#col-en .word").forEach(w => w.classList.remove("selected"));
      word.classList.add("selected");
      selectedEn = word;
      if(soundOn) speakWord(word.textContent.trim());
    }

    function selectPt(word) {
      if(!selectedEn || word.classList.contains("correct-pt")) return;
      if(selectedEn.dataset.pair === word.dataset.pair){
        selectedEn.classList.add("correct");
        word.classList.add("correct-pt");
        selectedEn.classList.remove("selected");
        selectedEn = null;
        checkWin();
      } else {
        word.classList.add("wrong-pt");
        selectedEn.classList.add("wrong");
        loseLife();
        setTimeout(() => {
          word.classList.remove("wrong-pt");
          selectedEn.classList.remove("wrong");
          selectedEn.classList.remove("selected");
          selectedEn = null;
        }, 800);
      }
    }

    function speakWord(word) {
      const utterance = new SpeechSynthesisUtterance(word);
      utterance.lang = "en-US";
      speechSynthesis.speak(utterance);
    }

    function toggleSound() {
      soundOn = !soundOn;
      document.getElementById("soundBtn").textContent = soundOn ? "Som" : "Sem Som";
    }

    // Inicia fase 1
    carregarFase(faseAtual);
  </script>
</body>
</html>
